function NewsList(){}NewsList.prototype.listenCommentEvent=function(){var t=$("#comment-btn"),n=t.attr("data-news-id"),o=$(".comment-list");t.on("click",function(){var t=$("#comment-content").val();myajax.post({url:"/news/public_comment/",data:{content:t,news_id:n},success:function(t){var n,e;200===t.code?(n=t.data,e=template("comment-template",{comment:n}),o.prepend(e),$("#comment-content").val(""),window.messageBox.showSuccess("发布评论成功！")):window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenCommentEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlcyI6WyJuZXdzX2RldGFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzTGlzdCgpIHtcclxuXHJcbn1cclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5saXN0ZW5Db21tZW50RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY29tbWVudGJ0biA9ICQoXCIjY29tbWVudC1idG5cIik7XHJcbiAgICB2YXIgbmV3c19pZCA9IGNvbW1lbnRidG4uYXR0cignZGF0YS1uZXdzLWlkJyk7XHJcbiAgICB2YXIgY29tbWVudGxpc3QgPSAkKFwiLmNvbW1lbnQtbGlzdFwiKTtcclxuICAgIGNvbW1lbnRidG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gJChcIiNjb21tZW50LWNvbnRlbnRcIikudmFsKCk7XHJcbiAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL3B1YmxpY19jb21tZW50LycsXHJcbiAgICAgICAgICAgICdkYXRhJzogeydjb250ZW50JzogY29udGVudCwgJ25ld3NfaWQnOiBuZXdzX2lkfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKCdjb21tZW50LXRlbXBsYXRlJywgeydjb21tZW50JzogY29tbWVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRsaXN0LnByZXBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI2NvbW1lbnQtY29udGVudFwiKS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+WPkeW4g+ivhOiuuuaIkOWKn++8gScpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxufTtcclxuTmV3c0xpc3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubGlzdGVuQ29tbWVudEV2ZW50KCk7XHJcbn07XHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG5ld3NsaXN0ID0gbmV3IE5ld3NMaXN0KCk7XHJcbiAgICBuZXdzbGlzdC5ydW4oKTtcclxufSk7Il0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuQ29tbWVudEV2ZW50IiwiY29tbWVudGJ0biIsIiQiLCJuZXdzX2lkIiwiYXR0ciIsImNvbW1lbnRsaXN0Iiwib24iLCJjb250ZW50IiwidmFsIiwibXlhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFlBSVRBLFNBQVNDLFVBQVVDLG1CQUFxQixXQUNwQyxJQUFJQyxFQUFhQyxFQUFFLGdCQUNmQyxFQUFVRixFQUFXRyxLQUFLLGdCQUMxQkMsRUFBY0gsRUFBRSxpQkFDcEJELEVBQVdLLEdBQUcsUUFBUyxXQUNuQixJQUFJQyxFQUFVTCxFQUFFLG9CQUFvQk0sTUFDcENDLE9BQU9DLEtBQUssQ0FDUkMsSUFBTyx3QkFDUEMsS0FBUSxDQUFDTCxRQUFXQSxFQUFTSixRQUFXQSxHQUN4Q1UsUUFBVyxTQUFVQyxHQUNqQixJQUNRQyxFQUNBQyxFQUZlLE1BQW5CRixFQUFhLE1BQ1RDLEVBQVVELEVBQWEsS0FDdkJFLEVBQU1DLFNBQVMsbUJBQW9CLENBQUNGLFFBQVdBLElBQ25EVixFQUFZYSxRQUFRRixHQUNwQmQsRUFBRSxvQkFBb0JNLElBQUksSUFDMUJXLE9BQU9DLFdBQVdDLFlBQVksWUFFOUJGLE9BQU9DLFdBQVdFLFVBQVVSLEVBQWdCLGVBTWhFaEIsU0FBU0MsVUFBVXdCLElBQU0sV0FDckJDLEtBQUt4QixzQkFFVEUsRUFBRSxZQUNpQixJQUFJSixVQUNWeUIifQ==
